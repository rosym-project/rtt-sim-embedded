import("cosima-robot-sim")

# loadComponent("bullet","cosima::RTTBulletEmbedded")
# setActivity("bullet",0.1,10,ORO_SCHED_OTHER)
# bullet.connect()
# bullet.configure()
# bullet.spawnModel("kuka1", "/home/dwigand/code/cogimon/CoSimA/pyBullet/pyCompliantInteractionPlanning/gym_flexassembly/data/kuka-iiwa-7/model.urdf")

loadComponent("robot","cosima::RTTRobotManipulatorSim")
# Faster than 1Kz, because reality is always fast :D
setActivity("robot",0.0001,10,ORO_SCHED_OTHER)
robot.connectBullet()
robot.spawnRobot("kuka1", "/home/dwigand/code/cogimon/CoSimA/pyBullet/pyCompliantInteractionPlanning/gym_flexassembly/data/kuka-iiwa-7/model.urdf", "bullet")
# robot.connectToExternallySpawnedRobot("kuka1", 1, "bullet")
robot.configure()

# robot.setControlMode("kuka1", "JointTorqueCtrl")
robot.setControlMode("kuka1", "JointGravComp")
# robot.setControlMode("kuka1", "JointPositionCtrl")

robot.start


# import pybullet as p
# client = p.connect(p.GUI_SERVER,1234)
